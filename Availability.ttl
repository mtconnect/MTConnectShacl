@prefix sh: <http://www.w3.org/ns/shacl#> .
@prefix data: <http://example.org/data/> .
@prefix core: <https://spec.indusrialontologies.org/ontology/core/Core/> .
@prefix val: <http://example.org/shacl/> .
@prefix mt: <https://purl.mtconnect.org/ontology/> .


val:DeviceHasAController a sh:NodeShape ;
  sh:targetClass mt:Device ;
  sh:property [ 
    sh:path  mt:hasComponent ;
    sh:message "The device must have a controller." ;
    sh:qualifiedValueShape [
      sh:class mt:Controller ;
    ] ;
    sh:qualifiedMinCount 1 ;
  ] .

val:Observations a sh:NodeShape ;
  sh:targetClass mt:Device ;
  sh:property [
    sh:path ( [ sh:oneOrMorePath mt:hasComponent ] mt:observes ) ;
    sh:message "The device must observe controller mode." ;
    sh:qualifiedValueShape [
      sh:class mt:ControllerMode ;
    ] ;
    sh:qualifiedMinCount 1 ;
		sh:qualifiedMaxCount 1 ;
  ] ;
    sh:property [
    sh:path ( [ sh:oneOrMorePath mt:hasComponent ] mt:observes ) ;
    sh:message "The device must observe execution." ;
    sh:qualifiedValueShape [
      sh:class mt:Execution ;
    ] ;
    sh:qualifiedMinCount 1 ;
    sh:qualifiedMaxCount 1 ;
  ] .

